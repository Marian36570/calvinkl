<!-- початок HTML залишився без змін — пропущено для стислості -->

<script>
  const apiKey = 'a249c591d0c7fff13d5bc43044b49d5e';
  const NP_API_URL = 'https://api.novaposhta.ua/v2.0/json/';
  let cities = [];

  async function loadCities() {
    const response = await fetch(NP_API_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        apiKey: apiKey,
        modelName: "Address",
        calledMethod: "getCities",
        methodProperties: {}
      })
    });
    const data = await response.json();
    if (data.success) {
      const datalist = document.getElementById('city-list');
      cities = data.data;
      data.data.forEach(city => {
        const option = document.createElement('option');
        option.value = city.Description;
        option.dataset.ref = city.Ref;
        datalist.appendChild(option);
      });
    }
  }

  async function loadWarehouses(cityRef) {
    const response = await fetch(NP_API_URL, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({
        apiKey: apiKey,
        modelName: "Address",
        calledMethod: "getWarehouses",
        methodProperties: { CityRef: cityRef }
      })
    });
    const data = await response.json();
    const warehouseSelect = document.getElementById('warehouseSelect');
    warehouseSelect.innerHTML = '<option value="">Оберіть відділення</option>';
    if (data.success) {
      data.data.forEach(wh => {
        const option = document.createElement('option');
        option.value = wh.Description;
        option.textContent = wh.Description;
        warehouseSelect.appendChild(option);
      });
    }
  }

  document.getElementById('cityInput').addEventListener('input', (e) => {
    const cityName = e.target.value;
    const cityObj = cities.find(c => c.Description.toLowerCase() === cityName.toLowerCase());
    if (cityObj) {
      loadWarehouses(cityObj.Ref);
    } else {
      document.getElementById('warehouseSelect').innerHTML = '<option value="">Оберіть відділення<

